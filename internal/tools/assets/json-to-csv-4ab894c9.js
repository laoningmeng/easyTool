import{_ as i}from"./FormatTransformer.vue_vue_type_script_setup_true_lang-f773df0a.js";import{J as a}from"./index-d4e515d0.js";import{w as c}from"./defaults-4d6daddf.js";import{d as u,E as p,o as f}from"./index-a828413e.js";import"./TextareaCopyable-76ae05c4.js";import"./copy-1dd92e81.js";import"./Copy-671934bd.js";import"./Scrollbar-ae9c5e6e.js";function m({array:o}){const r=new Set;return o.forEach(t=>Object.keys(t).forEach(e=>r.add(e))),Array.from(r)}function l(o){if(o===null)return"null";if(o===void 0)return"";const r=String(o).replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/"/g,'\\"');return r.includes(",")?`"${r}"`:r}function d({array:o}){const r=m({array:o}),t=o.map(e=>r.map(n=>l(e[n])));return[r.join(","),...t].join(`
`)}const y=u({__name:"json-to-csv",setup(o){function r(e){return c(()=>e===""?"":d({array:a.parse(e)}),"")}const t=[{validator:e=>e===""||a.parse(e),message:"Provided JSON is not valid."}];return(e,n)=>{const s=i;return f(),p(s,{"input-label":"Your raw JSON","input-placeholder":"Paste your raw JSON here...","output-label":"CSV version of your JSON","input-validation-rules":t,transformer:r})}}});export{y as default};
